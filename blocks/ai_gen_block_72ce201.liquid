{% doc %}
  @prompt
    Create a customizable section for collection pages that displays long-form content or description text prominently on the frontend. The section should be styled attractively and allow merchants to show detailed collection descriptions, benefits, or marketing content below the collection header but above the product grid.

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-collection-content-{{ ai_gen_id }} {
    padding: {{ block.settings.padding_top }}px 0 {{ block.settings.padding_bottom }}px;
    background-color: {{ block.settings.background_color }};
    {% if block.settings.background_image %}
      background-image: url('{{ block.settings.background_image | image_url: width: 1920 }}');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    {% endif %}
  }

  .ai-collection-content__container-{{ ai_gen_id }} {
    max-width: {{ block.settings.content_width }}px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .ai-collection-content__wrapper-{{ ai_gen_id }} {
    text-align: {{ block.settings.text_alignment }};
    {% if block.settings.background_image and block.settings.overlay_enable %}
      background-color: {{ block.settings.overlay_color }};
      padding: {{ block.settings.overlay_padding }}px;
      border-radius: {{ block.settings.overlay_border_radius }}px;
    {% endif %}
  }

  .ai-collection-content__heading-{{ ai_gen_id }} {
    font-size: {{ block.settings.heading_size }}px;
    color: {{ block.settings.heading_color }};
    margin: 0 0 {{ block.settings.heading_margin_bottom }}px;
    font-weight: {{ block.settings.heading_font_weight }};
    line-height: 1.2;
  }

  .ai-collection-content__text-{{ ai_gen_id }} {
    font-size: {{ block.settings.text_size }}px;
    color: {{ block.settings.text_color }};
    line-height: 1.6;
    margin: 0;
  }

  .ai-collection-content__text-{{ ai_gen_id }} p {
    margin: 0 0 1.5em;
  }

  .ai-collection-content__text-{{ ai_gen_id }} p:last-child {
    margin-bottom: 0;
  }

  .ai-collection-content__text-{{ ai_gen_id }} h1,
  .ai-collection-content__text-{{ ai_gen_id }} h2,
  .ai-collection-content__text-{{ ai_gen_id }} h3,
  .ai-collection-content__text-{{ ai_gen_id }} h4,
  .ai-collection-content__text-{{ ai_gen_id }} h5,
  .ai-collection-content__text-{{ ai_gen_id }} h6 {
    color: {{ block.settings.heading_color }};
    margin: 1.5em 0 0.75em;
  }

  .ai-collection-content__text-{{ ai_gen_id }} h1:first-child,
  .ai-collection-content__text-{{ ai_gen_id }} h2:first-child,
  .ai-collection-content__text-{{ ai_gen_id }} h3:first-child,
  .ai-collection-content__text-{{ ai_gen_id }} h4:first-child,
  .ai-collection-content__text-{{ ai_gen_id }} h5:first-child,
  .ai-collection-content__text-{{ ai_gen_id }} h6:first-child {
    margin-top: 0;
  }

  .ai-collection-content__text-{{ ai_gen_id }} ul,
  .ai-collection-content__text-{{ ai_gen_id }} ol {
    margin: 0 0 1.5em;
    padding-left: 1.5em;
  }

  .ai-collection-content__text-{{ ai_gen_id }} li {
    margin-bottom: 0.5em;
  }

  .ai-collection-content__text-{{ ai_gen_id }} a {
    color: {{ block.settings.link_color }};
    text-decoration: underline;
  }

  .ai-collection-content__text-{{ ai_gen_id }} a:hover {
    color: {{ block.settings.link_hover_color }};
  }

  .ai-collection-content__text-{{ ai_gen_id }} strong,
  .ai-collection-content__text-{{ ai_gen_id }} b {
    font-weight: 600;
  }

  .ai-collection-content__text-{{ ai_gen_id }} em,
  .ai-collection-content__text-{{ ai_gen_id }} i {
    font-style: italic;
  }

  .ai-collection-content__text-{{ ai_gen_id }} blockquote {
    border-left: 4px solid {{ block.settings.heading_color }};
    padding-left: 1.5em;
    margin: 1.5em 0;
    font-style: italic;
    opacity: 0.8;
  }

  @media screen and (max-width: 749px) {
    .ai-collection-content-{{ ai_gen_id }} {
      padding: {{ block.settings.padding_top | times: 0.7 }}px 0 {{ block.settings.padding_bottom | times: 0.7 }}px;
    }

    .ai-collection-content__container-{{ ai_gen_id }} {
      padding: 0 15px;
    }

    .ai-collection-content__heading-{{ ai_gen_id }} {
      font-size: {{ block.settings.heading_size | times: 0.8 }}px;
      margin-bottom: {{ block.settings.heading_margin_bottom | times: 0.8 }}px;
    }

    .ai-collection-content__text-{{ ai_gen_id }} {
      font-size: {{ block.settings.text_size | times: 0.9 }}px;
    }

    {% if block.settings.background_image and block.settings.overlay_enable %}
      .ai-collection-content__wrapper-{{ ai_gen_id }} {
        padding: {{ block.settings.overlay_padding | times: 0.7 }}px;
      }
    {% endif %}
  }
{% endstyle %}

<div class="ai-collection-content-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-collection-content__container-{{ ai_gen_id }}">
    <div class="ai-collection-content__wrapper-{{ ai_gen_id }}">
      {% if block.settings.heading != blank %}
        <h2 class="ai-collection-content__heading-{{ ai_gen_id }}">
          {{ block.settings.heading }}
        </h2>
      {% endif %}

      {% if block.settings.content != blank %}
        <div class="ai-collection-content__text-{{ ai_gen_id }}">
          {{ block.settings.content }}
        </div>
      {% endif %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Collection Content",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "About This Collection"
    },
    {
      "type": "richtext",
      "id": "content",
      "label": "Content",
      "default": "<p>Discover our carefully curated collection featuring premium quality products designed to elevate your everyday experience. Each item is selected with attention to detail, ensuring you get the best value and style.</p><p>Whether you're looking for essentials or something special, this collection offers versatile options that seamlessly blend functionality with modern aesthetics.</p>"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "range",
      "id": "content_width",
      "min": 600,
      "max": 1200,
      "step": 50,
      "unit": "px",
      "label": "Content width",
      "default": 800
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Top padding",
      "default": 50
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Bottom padding",
      "default": 50
    },
    {
      "type": "header",
      "content": "Background"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background image"
    },
    {
      "type": "checkbox",
      "id": "overlay_enable",
      "label": "Enable overlay",
      "default": false,
      "info": "Adds a background overlay when using background image"
    },
    {
      "type": "color",
      "id": "overlay_color",
      "label": "Overlay color",
      "default": "rgba(255, 255, 255, 0.9)"
    },
    {
      "type": "range",
      "id": "overlay_padding",
      "min": 20,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Overlay padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "overlay_border_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Overlay border radius",
      "default": 8
    },
    {
      "type": "header",
      "content": "Heading Style"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 20,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Heading size",
      "default": 32
    },
    {
      "type": "select",
      "id": "heading_font_weight",
      "label": "Heading font weight",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi-bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "600"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "heading_margin_bottom",
      "min": 10,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Heading bottom margin",
      "default": 24
    },
    {
      "type": "header",
      "content": "Text Style"
    },
    {
      "type": "range",
      "id": "text_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Text size",
      "default": 16
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "link_color",
      "label": "Link color",
      "default": "#000f9f"
    },
    {
      "type": "color",
      "id": "link_hover_color",
      "label": "Link hover color",
      "default": "#000000"
    }
  ],
  "presets": [
    {
      "name": "Collection Content"
    }
  ]
}
{% endschema %}